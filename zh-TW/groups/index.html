<!DOCTYPE html><html lang="zh-TW" dir="ltr" data-base="/moonpacket-site/"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="canonical" href="https://devcrealize.github.io/moonpacket-site/zh-TW/groups/"><!-- Local fonts (self-hosted). Place WOFF2 files under /public/fonts. --><link rel="preload" as="font" href="/moonpacket-site/fonts/Sora-Variable.woff2" type="font/woff2" crossorigin><!-- Fallback: while local WOFF2 not yet present, load from Google Fonts (will be ignored once local exists) --><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@100..700&family=Inter:wght@100..900&family=Sora:wght@200..800&display=swap" rel="stylesheet"><!-- Favicon: avoid /favicon.ico 404 by explicitly setting icons --><!-- 使用原本與 logo 一致的 favicon.ico（使用根路徑，避免語言子路徑影響） --><link rel="icon" href="/favicon.ico" sizes="any"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"><!-- Optional: PNG fallback --><link rel="icon" type="image/png" href="/favicon-source.png"><link rel="apple-touch-icon" href="/moonpacket-site/icons/logo-192.png"><link rel="manifest" href="/moonpacket-site/site.webmanifest"><!-- Fonts note: DYNAMIC. Real WOFF2 files must exist at /public/fonts to avoid 404. --><title>群組列表</title><meta name="description" content="用加密貨幣發紅包">
    <meta property="og:type" content="website" />
    <meta property="og:title" content="群組列表" />
    <meta property="og:description" content="用加密貨幣發紅包" />
    <meta property="og:url" content="https://devcrealize.github.io/moonpacket-site/zh-TW/groups/" />
    <meta property="og:image" content="/moonpacket-site/images/og-default.png" />
    <meta property="og:locale" content="zh_TW" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="群組列表" />
    <meta name="twitter:description" content="用加密貨幣發紅包" />
    <meta name="twitter:image" content="/moonpacket-site/images/og-default.png" />
  <link rel="alternate" hrefLang="x-default" href="https://devcrealize.github.io/moonpacket-site/zh-TW/groups/"><link rel="alternate" hrefLang="en-US" href="https://devcrealize.github.io/moonpacket-site/en-US/groups/"><link rel="alternate" hrefLang="en-GB" href="https://devcrealize.github.io/moonpacket-site/en-GB/groups/"><link rel="alternate" hrefLang="zh-TW" href="https://devcrealize.github.io/moonpacket-site/zh-TW/groups/"><link rel="alternate" hrefLang="zh-CN" href="https://devcrealize.github.io/moonpacket-site/zh-CN/groups/"><link rel="alternate" hrefLang="ja-JP" href="https://devcrealize.github.io/moonpacket-site/ja-JP/groups/"><link rel="alternate" hrefLang="ko-KR" href="https://devcrealize.github.io/moonpacket-site/ko-KR/groups/"><link rel="alternate" hrefLang="de-DE" href="https://devcrealize.github.io/moonpacket-site/de-DE/groups/"><link rel="alternate" hrefLang="fr-FR" href="https://devcrealize.github.io/moonpacket-site/fr-FR/groups/"><link rel="alternate" hrefLang="es-ES" href="https://devcrealize.github.io/moonpacket-site/es-ES/groups/"><link rel="alternate" hrefLang="it-IT" href="https://devcrealize.github.io/moonpacket-site/it-IT/groups/"><link rel="alternate" hrefLang="pt-BR" href="https://devcrealize.github.io/moonpacket-site/pt-BR/groups/"><link rel="alternate" hrefLang="pt-PT" href="https://devcrealize.github.io/moonpacket-site/pt-PT/groups/"><link rel="alternate" hrefLang="nl-NL" href="https://devcrealize.github.io/moonpacket-site/nl-NL/groups/"><link rel="alternate" hrefLang="sv-SE" href="https://devcrealize.github.io/moonpacket-site/sv-SE/groups/"><link rel="alternate" hrefLang="no-NO" href="https://devcrealize.github.io/moonpacket-site/no-NO/groups/"><link rel="alternate" hrefLang="da-DK" href="https://devcrealize.github.io/moonpacket-site/da-DK/groups/"><link rel="alternate" hrefLang="fi-FI" href="https://devcrealize.github.io/moonpacket-site/fi-FI/groups/"><link rel="alternate" hrefLang="pl-PL" href="https://devcrealize.github.io/moonpacket-site/pl-PL/groups/"><link rel="alternate" hrefLang="cs-CZ" href="https://devcrealize.github.io/moonpacket-site/cs-CZ/groups/"><link rel="alternate" hrefLang="tr-TR" href="https://devcrealize.github.io/moonpacket-site/tr-TR/groups/"><link rel="alternate" hrefLang="vi-VN" href="https://devcrealize.github.io/moonpacket-site/vi-VN/groups/"><link rel="alternate" hrefLang="th-TH" href="https://devcrealize.github.io/moonpacket-site/th-TH/groups/"><link rel="alternate" hrefLang="id-ID" href="https://devcrealize.github.io/moonpacket-site/id-ID/groups/"><link rel="alternate" hrefLang="hi-IN" href="https://devcrealize.github.io/moonpacket-site/hi-IN/groups/"><link rel="alternate" hrefLang="bn-BD" href="https://devcrealize.github.io/moonpacket-site/bn-BD/groups/"><link rel="alternate" hrefLang="ru-RU" href="https://devcrealize.github.io/moonpacket-site/ru-RU/groups/"><link rel="alternate" hrefLang="uk-UA" href="https://devcrealize.github.io/moonpacket-site/uk-UA/groups/"><link rel="alternate" hrefLang="ar-SA" href="https://devcrealize.github.io/moonpacket-site/ar-SA/groups/"><link rel="alternate" hrefLang="fa-IR" href="https://devcrealize.github.io/moonpacket-site/fa-IR/groups/"><link rel="alternate" hrefLang="he-IL" href="https://devcrealize.github.io/moonpacket-site/he-IL/groups/"><link rel="alternate" hrefLang="ur-PK" href="https://devcrealize.github.io/moonpacket-site/ur-PK/groups/"><link rel="alternate" hrefLang="el-GR" href="https://devcrealize.github.io/moonpacket-site/el-GR/groups/"><link rel="alternate" hrefLang="ro-RO" href="https://devcrealize.github.io/moonpacket-site/ro-RO/groups/"><link rel="alternate" hrefLang="hu-HU" href="https://devcrealize.github.io/moonpacket-site/hu-HU/groups/"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","name":"moonpacket","url":"https://devcrealize.github.io/moonpacket-site/zh-TW/groups/"}</script><link rel="stylesheet" href="/moonpacket-site/_astro/about.BtnXboD0.css"><script type="module">var s=document.documentElement,d=s&&s.getAttribute&&s.getAttribute("data-base")||"/",l=d.replace(/\/$/,"/")+"data/metrics.json";const o=document.getElementById("groups-list"),c=document.getElementById("sort");async function i(){try{const a=await fetch(l,{cache:"no-store"});if(!a.ok)return;const{groups:n}=await a.json();m(n)}catch(a){}}function m(a){const n=c.value||"latest",r=[...a];n==="latest"&&r.sort((e,t)=>new Date(t.created_at)-new Date(e.created_at)),n==="oldest"&&r.sort((e,t)=>new Date(e.created_at)-new Date(t.created_at)),n==="most"&&r.sort((e,t)=>(t.members||0)-(e.members||0)),n==="least"&&r.sort((e,t)=>(e.members||0)-(t.members||0)),o.innerHTML="",r.forEach(e=>{const t=document.createElement("li");t.className="p-4 rounded-lg bg-white ring-1 ring-black/5 flex items-center justify-between",t.innerHTML=`
            <div>
              <a href="${e.link}" target="_blank" rel="noopener" class="font-semibold underline-offset-2 hover:underline">${e.name}</a>
              <div class="text-xs text-textSubtle">${new Date(e.created_at).toLocaleString()}</div>
            </div>
            <div class="num">${new Intl.NumberFormat().format(e.members||0)}</div>
          `,o.appendChild(t)})}c.addEventListener("change",i);i();
</script></head> <body class="antialiased"> <script>(function(){const lang = "zh-TW";
const defaultLocale = "en-US";

      (function(){
        try{
          var currentLang = lang || (document.documentElement && document.documentElement.getAttribute('lang')) || defaultLocale;
          if (currentLang){
            try{ localStorage.setItem('mp_lang', currentLang); }catch(_){ }
            var maxAge = 60*60*24*365; document.cookie = 'mp_lang='+encodeURIComponent(currentLang)+'; Max-Age='+maxAge+'; Path=/';
          }
        }catch(_){ }
      })();
    })();</script> <a href="#main-content" class="sr-only focus:not-sr-only focus:fixed focus:top-2 focus:left-2 focus:z-50 focus:bg-white focus:text-text focus:px-3 focus:py-2 focus:rounded"> 跳到主要內容 </a> <header class="mx-auto max-w-6xl px-4 py-4 flex items-center justify-between"> <a href="/moonpacket-site/zh-TW/" aria-label="Home" class="flex items-center gap-5"> <img src="/moonpacket-site/favicon-source.png" alt="" width="48" height="48" loading="eager" decoding="async" class="h-12 w-12 md:h-14 md:w-14 rounded"> <span class="brand-word font-brand hidden sm:inline leading-none" data-size="h2" data-tone="navy">moonpacket</span> </a> <nav class="flex items-center gap-6"> <a href="/moonpacket-site/zh-TW/claim/" class="nav-link hover:underline">領紅包</a> <a href="/moonpacket-site/zh-TW/send/" class="nav-link hover:underline">發紅包</a> <div class="relative text-sm text-textSubtle flex items-center gap-2"> <!-- Mobile: only globe button --> <button id="lang-toggle" type="button" class="block sm:hidden rounded border border-black/10 bg-white px-2 py-1"> <img src="/moonpacket-site/icons/globe.svg" alt="" width="18" height="18" class="opacity-80" aria-hidden="true"> <span class="sr-only">語言選單</span> </button> <div id="lang-menu" class="hidden sm:hidden absolute right-0 top-full mt-2 w-56 rounded border border-black/10 bg-white shadow-lg max-h-[50vh] overflow-auto z-50"> <ul class="py-1"> <li> <button type="button" class="w-full text-left px-3 py-2 hover:bg-black/5 " data-code="en-US"> English (US) </button> </li><li> <button type="button" class="w-full text-left px-3 py-2 hover:bg-black/5 " data-code="en-GB"> English (UK) </button> </li><li> <button type="button" class="w-full text-left px-3 py-2 hover:bg-black/5 font-semibold" data-code="zh-TW"> 繁體中文 (台灣) </button> </li><li> <button type="button" class="w-full text-left px-3 py-2 hover:bg-black/5 " data-code="zh-CN"> 简体中文 (中国) </button> </li><li> <button type="button" class="w-full text-left px-3 py-2 hover:bg-black/5 " data-code="ja-JP"> 日本語 </button> </li><li> <button type="button" class="w-full text-left px-3 py-2 hover:bg-black/5 " data-code="ko-KR"> 한국어 </button> </li><li> <button type="button" class="w-full text-left px-3 py-2 hover:bg-black/5 " data-code="de-DE"> Deutsch </button> </li><li> <button type="button" class="w-full text-left px-3 py-2 hover:bg-black/5 " data-code="fr-FR"> Français </button> </li><li> <button type="button" class="w-full text-left px-3 py-2 hover:bg-black/5 " data-code="es-ES"> Español </button> </li><li> <button type="button" class="w-full text-left px-3 py-2 hover:bg-black/5 " data-code="it-IT"> Italiano </button> </li><li> <button type="button" class="w-full text-left px-3 py-2 hover:bg-black/5 " data-code="pt-BR"> Português (Brasil) </button> </li><li> <button type="button" class="w-full text-left px-3 py-2 hover:bg-black/5 " data-code="pt-PT"> Português (Portugal) </button> </li><li> <button type="button" class="w-full text-left px-3 py-2 hover:bg-black/5 " data-code="nl-NL"> Nederlands </button> </li><li> <button type="button" class="w-full text-left px-3 py-2 hover:bg-black/5 " data-code="sv-SE"> Svenska </button> </li><li> <button type="button" class="w-full text-left px-3 py-2 hover:bg-black/5 " data-code="no-NO"> Norsk </button> </li><li> <button type="button" class="w-full text-left px-3 py-2 hover:bg-black/5 " data-code="da-DK"> Dansk </button> </li><li> <button type="button" class="w-full text-left px-3 py-2 hover:bg-black/5 " data-code="fi-FI"> Suomi </button> </li><li> <button type="button" class="w-full text-left px-3 py-2 hover:bg-black/5 " data-code="pl-PL"> Polski </button> </li><li> <button type="button" class="w-full text-left px-3 py-2 hover:bg-black/5 " data-code="cs-CZ"> Čeština </button> </li><li> <button type="button" class="w-full text-left px-3 py-2 hover:bg-black/5 " data-code="tr-TR"> Türkçe </button> </li><li> <button type="button" class="w-full text-left px-3 py-2 hover:bg-black/5 " data-code="vi-VN"> Tiếng Việt </button> </li><li> <button type="button" class="w-full text-left px-3 py-2 hover:bg-black/5 " data-code="th-TH"> ไทย </button> </li><li> <button type="button" class="w-full text-left px-3 py-2 hover:bg-black/5 " data-code="id-ID"> Bahasa Indonesia </button> </li><li> <button type="button" class="w-full text-left px-3 py-2 hover:bg-black/5 " data-code="hi-IN"> हिन्दी </button> </li><li> <button type="button" class="w-full text-left px-3 py-2 hover:bg-black/5 " data-code="bn-BD"> বাংলা </button> </li><li> <button type="button" class="w-full text-left px-3 py-2 hover:bg-black/5 " data-code="ru-RU"> Русский </button> </li><li> <button type="button" class="w-full text-left px-3 py-2 hover:bg-black/5 " data-code="uk-UA"> Українська </button> </li><li> <button type="button" class="w-full text-left px-3 py-2 hover:bg-black/5 " data-code="ar-SA"> العربية (السعودية) </button> </li><li> <button type="button" class="w-full text-left px-3 py-2 hover:bg-black/5 " data-code="fa-IR"> فارسی </button> </li><li> <button type="button" class="w-full text-left px-3 py-2 hover:bg-black/5 " data-code="he-IL"> עברית </button> </li><li> <button type="button" class="w-full text-left px-3 py-2 hover:bg-black/5 " data-code="ur-PK"> اُردُو </button> </li><li> <button type="button" class="w-full text-left px-3 py-2 hover:bg-black/5 " data-code="el-GR"> Ελληνικά </button> </li><li> <button type="button" class="w-full text-left px-3 py-2 hover:bg-black/5 " data-code="ro-RO"> Română </button> </li><li> <button type="button" class="w-full text-left px-3 py-2 hover:bg-black/5 " data-code="hu-HU"> Magyar </button> </li> </ul> </div> <!-- Desktop: globe + native select --> <div class="hidden sm:flex items-center gap-2"> <img src="/moonpacket-site/icons/globe.svg" alt="" aria-hidden="true" width="18" height="18" class="opacity-80"> <label for="lang-select" class="sr-only">語言</label> <select id="lang-select" class="px-2 py-1 rounded border border-black/10 bg-white"> <option value="en-US"> English (US) </option><option value="en-GB"> English (UK) </option><option value="zh-TW" selected> 繁體中文 (台灣) </option><option value="zh-CN"> 简体中文 (中国) </option><option value="ja-JP"> 日本語 </option><option value="ko-KR"> 한국어 </option><option value="de-DE"> Deutsch </option><option value="fr-FR"> Français </option><option value="es-ES"> Español </option><option value="it-IT"> Italiano </option><option value="pt-BR"> Português (Brasil) </option><option value="pt-PT"> Português (Portugal) </option><option value="nl-NL"> Nederlands </option><option value="sv-SE"> Svenska </option><option value="no-NO"> Norsk </option><option value="da-DK"> Dansk </option><option value="fi-FI"> Suomi </option><option value="pl-PL"> Polski </option><option value="cs-CZ"> Čeština </option><option value="tr-TR"> Türkçe </option><option value="vi-VN"> Tiếng Việt </option><option value="th-TH"> ไทย </option><option value="id-ID"> Bahasa Indonesia </option><option value="hi-IN"> हिन्दी </option><option value="bn-BD"> বাংলা </option><option value="ru-RU"> Русский </option><option value="uk-UA"> Українська </option><option value="ar-SA"> العربية (السعودية) </option><option value="fa-IR"> فارسی </option><option value="he-IL"> עברית </option><option value="ur-PK"> اُردُو </option><option value="el-GR"> Ελληνικά </option><option value="ro-RO"> Română </option><option value="hu-HU"> Magyar </option> </select> </div> <script>(function(){const basePath = "/moonpacket-site/";

    (function(){
      var base = (typeof basePath === 'string' && basePath) ? basePath : '/';

      // Desktop select
      var sel = document.getElementById('lang-select');
      if (sel) {
        sel.addEventListener('change', function(){
          var v = sel.value; if (!v) return;
          var href = (base || '/') + v + '/';
          location.href = href.replace(/\/+/, '/');
        });
      }

      // Mobile dropdown
      var toggle = document.getElementById('lang-toggle');
      var menu = document.getElementById('lang-menu');
      function closeMenu(){ if (menu) menu.classList.add('hidden'); }
      function openMenu(){ if (menu) menu.classList.remove('hidden'); }
      if (toggle && menu) {
        toggle.setAttribute('aria-expanded', 'false');
        toggle.addEventListener('click', function(e){
          e.preventDefault(); e.stopPropagation();
          if (menu.classList.contains('hidden')) { openMenu(); menu.style.display='block'; toggle.setAttribute('aria-expanded','true'); }
          else { closeMenu(); menu.style.display='none'; toggle.setAttribute('aria-expanded','false'); }
        });
        menu.addEventListener('click', function(e){
          var t = e.target || e.srcElement;
          while (t && t !== menu && !t.getAttribute('data-code')) { t = t.parentNode; }
          if (t && t.getAttribute && t.getAttribute('data-code')) {
            var code = t.getAttribute('data-code');
            var href = (base || '/') + code + '/';
            location.href = href.replace(/\/+/, '/');
          }
        });
        document.addEventListener('click', function(e){
          var t = e.target || e.srcElement;
          if (!menu.contains(t) && t !== toggle) closeMenu();
        });
        document.addEventListener('keydown', function(e){ if (e.key === 'Escape') closeMenu(); });
      }
    })();
  })();</script> </div> </nav> </header>  <main class="mx-auto max-w-6xl px-4 py-10"> <h1 class="text-2xl font-semibold mb-4">moonpacket 數據</h1> <div class="mb-4"> <label for="sort" class="mr-2">排序</label> <select id="sort" class="px-2 py-1 rounded border border-black/10 bg-white"> <option value="latest">最新</option> <option value="oldest">最舊</option> <option value="most">人數最多</option> <option value="least">人數最少</option> </select> </div> <ul id="groups-list" class="space-y-3"></ul>  </main>  <footer class="mx-auto max-w-6xl px-4 pt-6 pb-10 text-sm text-textSubtle"> <div class="pb-4 border-b border-black/10"> <nav aria-label="social" class="w-full flex justify-center items-center gap-3"> <a class="p-2 rounded hover:bg-black/5 text-[#0C1E3A]" href="https://t.me/+example-group" target="_blank" rel="noopener noreferrer" aria-label="Telegram 群組" title="Telegram 群組"> <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path fill="currentColor" d="M9.5 15.5l-.3 4.2c.4 0 .6-.2.8-.4l2-1.9 4.2 3.1c.8.4 1.4.2 1.6-.7l2.9-13.6c.3-1.2-.4-1.7-1.2-1.4L3.6 9.2c-1.1.4-1.1 1-.2 1.3l4.3 1.3 9.9-6.2c.5-.3.9-.1.6.2"></path></svg> </a> <a class="p-2 rounded hover:bg-black/5 text-[#0C1E3A]" href="https://t.me/+example-channel" target="_blank" rel="noopener noreferrer" aria-label="Telegram 頻道" title="Telegram 頻道"> <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path fill="currentColor" d="M9.5 15.5l-.3 4.2c.4 0 .6-.2.8-.4l2-1.9 4.2 3.1c.8.4 1.4.2 1.6-.7l2.9-13.6c.3-1.2-.4-1.7-1.2-1.4L3.6 9.2c-1.1.4-1.1 1-.2 1.3l4.3 1.3 9.9-6.2c.5-.3.9-.1.6.2"></path></svg> </a> <a class="p-2 rounded hover:bg-black/5 text-[#0C1E3A]" href="https://twitter.com/moonpacket" target="_blank" rel="noopener noreferrer" aria-label="X" title="X"> <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path fill="currentColor" d="M3 3h4l5.1 7L17 3h4l-7.2 9.8L21 21h-4l-5.4-7.5L7 21H3l7.9-10.8L3 3z"></path></svg> </a> <a class="p-2 rounded hover:bg-black/5 text-[#0C1E3A]" href="https://www.youtube.com/@moonpacket" target="_blank" rel="noopener noreferrer" aria-label="YouTube" title="YouTube"> <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path fill="currentColor" d="M3 7.5C3 6.1 4.1 5 5.5 5h13c1.4 0 2.5 1.1 2.5 2.5v9c0 1.4-1.1 2.5-2.5 2.5h-13C4.1 19 3 17.9 3 16.5v-9zM10 9v6l5-3-5-3z"></path></svg> </a> </nav> </div> <div class="flex items-center justify-between gap-3 mt-4"> <div>© 2025 moonpacket. 版權所有。</div> <nav class="flex items-center gap-4 items-center"> <a class="hover:underline" href="/moonpacket-site/zh-TW/privacy/">隱私權</a> <span aria-hidden="true">·</span> <a class="hover:underline" href="/moonpacket-site/zh-TW/terms/">使用條款</a> <button id="theme-toggle" type="button" class="ml-2 px-2 py-1 rounded border border-black/10 bg-white text-text text-xs"> <span class="light">🌞</span><span class="dark hidden">🌙</span> </button> </nav> </div> </footer> <script>
      (function(){
        var html = document.documentElement;
        var KEY = 'mp_theme';
        function apply(v, persist){
          if(!v){v='light';}
          html.setAttribute('data-theme', v);
          if(persist){
            try{ localStorage.setItem(KEY, v); document.cookie = KEY+'='+encodeURIComponent(v)+'; Path=/; Max-Age='+(365*24*60*60); }catch(_){}
          }
          var btn=document.getElementById('theme-toggle');
          if(btn){ var on=v==='dark'; try{ btn.querySelector('.light').classList.toggle('hidden', on); btn.querySelector('.dark').classList.toggle('hidden', !on);}catch(_){} }
        }
        function resolveAuto(){
          try{ if(window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) return 'dark'; }catch(_){}
          var h=new Date().getHours();
          return (h>=18 || h<6) ? 'dark' : 'light';
        }
        function scheduleIfAuto(){
          if(saved) return;
          var now=new Date(); var h=now.getHours();
          var targetHour = (h<6)?6 : (h<18)?18 : 24+6; // next 06:00 or 18:00
          var target = new Date(now.getFullYear(), now.getMonth(), now.getDate(), 0,0,0,0);
          target.setHours(targetHour);
          if(targetHour>=24){ target.setDate(target.getDate()+1); target.setHours(6); }
          var delay = target.getTime() - now.getTime();
          setTimeout(function(){ if(!saved){ apply(resolveAuto(), false); scheduleIfAuto(); } }, Math.max(1000, delay));
        }
        var saved=null; try{ saved = localStorage.getItem(KEY) || (document.cookie.match(/(?:^|;\s*)mp_theme=([^;]+)/)||[])[1]; if(saved) saved=decodeURIComponent(saved); }catch(_){}
        var initial = saved || resolveAuto();
        apply(initial, !!saved);
        if(!saved){
          try{
            if(window.matchMedia){
              var mql=window.matchMedia('(prefers-color-scheme: dark)');
              var onChange=function(){ if(!saved){ apply(resolveAuto(), false); } };
              if(mql.addEventListener) mql.addEventListener('change', onChange); else mql.onchange=onChange;
            }
          }catch(_){}
          scheduleIfAuto();
        }
        var btn=document.getElementById('theme-toggle');
        if(btn){ btn.addEventListener('click', function(){ var next=(html.getAttribute('data-theme')==='dark')?'light':'dark'; saved=next; apply(next, true); }); }
      })();
    </script> </body> <!-- BaseLayout sets <html lang> and dir, plus SEO tags and hreflang links. --> </html>